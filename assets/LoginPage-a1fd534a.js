import{r,j as e,L as x,F as g,G as b,H as p,a2 as j,a3 as w,a4 as v,O as N,U as S,a5 as k,$ as y,u as h,a as f}from"./index-bd28cecb.js";function C({notVerified:s}){const[t,a]=r.useState(""),[n,c]=r.useState(""),[i,o]=r.useState(!1),[l,m]=r.useState(!1);async function d(u){u.preventDefault(),(await j(t,n)).status==="success"?m(!1):m(!0)}return e.jsxs("form",{className:"basis-full w-full box-border p-4 shrink-0 md:text-base text-sm",onSubmit:u=>void d(u),children:[e.jsx("p",{className:"w-full text-center font-bold mt-2 mb-6 md:text-2xl text-lg",children:"Sign in to your account"}),e.jsxs("label",{children:["Email",e.jsx("input",{name:"email",placeholder:"Email",className:`w-full p-2 md:text-lg text-base mt-2 mb-6 outline-none rounded-md box-border ${l?"border-red-500 border border-solid":""}`,type:"email",onChange:u=>a(u.target.value),required:!0,value:t})]}),e.jsxs("label",{className:"relative",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Password"}),e.jsx(x,{to:"/forgot",children:e.jsx("span",{className:"hover:text-c4 text-c7 transition",children:"Forgot?"})})]}),e.jsxs("div",{className:"relative mt-2 flex items-center",children:[e.jsx("input",{name:"password",placeholder:"Password",className:`w-full p-2 md:text-lg text-base outline-none rounded-md box-border ${l?"border-red-500 border border-solid":""}`,type:`${i?"text":"password"}`,onChange:u=>c(u.target.value),required:!0,value:n}),e.jsx(g,{icon:i?b:p,className:"absolute right-2 cursor-pointer",onClick:()=>o(!i)})]})]}),e.jsxs("div",{className:"mt-2 text-sm text-red-500",children:[l?"Email or password incorrect":null,!l&&s?e.jsx("p",{children:"You have not verified your email. "}):null]}),e.jsx("label",{children:e.jsx("button",{className:"mt-6 w-full p-2 text-center bg-c9 text-white rounded-lg hover:bg-c7 transition",type:"submit",children:"Sign In"})}),e.jsx(x,{to:"/schedule",children:e.jsx("p",{className:"mt-6 hover:text-c4 text-c7 transition",children:"Make a schedule without logging in"})})]})}function E(){const[s,t]=r.useState(""),[a,n]=r.useState(""),[c,i]=r.useState(""),[o,l]=r.useState(!1);async function m(d){if(d.preventDefault(),a!==c){l(!0);return}const u=await w(s,a);u.status==="success"?(l(!1),await v({email:s,uid:u.info.user.uid})):l(u.info.code.split("/")[1].replaceAll("-"," "))}return e.jsxs("form",{className:"basis-full w-full box-border p-4 shrink-0 text-sm md:text-base",onSubmit:d=>void m(d),children:[e.jsx("p",{className:"w-full text-center font-bold mt-2 mb-6 md:text-2xl text-lg",children:"Sign up your account"}),e.jsxs("label",{children:["Email",e.jsx("input",{name:"email",placeholder:"Email",className:`w-full p-2 md:text-lg text-base mt-2 mb-6 outline-none rounded-md ${o?"border-red-500 border border-solid":""}`,type:"email",onChange:d=>t(d.target.value),required:!0,value:s})]}),e.jsxs("label",{className:"relative",children:[e.jsx("div",{className:"flex justify-between",children:e.jsx("span",{children:"Password"})}),e.jsx("div",{className:"relative mt-2 flex items-center",children:e.jsx("input",{name:"password",placeholder:"Password",className:`w-full p-2 md:text-lg text-base outline-none rounded-md mb-6 box-border ${o?"border-red-500 border border-solid":""}`,type:"text",onChange:d=>n(d.target.value),required:!0,value:a})})]}),e.jsxs("label",{className:"relative",children:[e.jsx("div",{className:"flex justify-between",children:e.jsx("span",{children:"Confirm Password"})}),e.jsx("div",{className:"relative mt-2 flex items-center",children:e.jsx("input",{name:"password",placeholder:"Password",className:`w-full p-2 md:text-lg text-base outline-none rounded-md box-border ${o?"border-red-500 border border-solid":""}`,type:"text",onChange:d=>i(d.target.value),required:!0,value:c})})]}),e.jsxs("p",{className:"mt-2 text-sm text-red-500",children:[o===!0?"The passwords don't match":null,o&&o!==!0?o:null]}),e.jsx("label",{children:e.jsx("button",{className:"mt-6 w-full p-2 text-center bg-c9 text-white rounded-lg hover:bg-c7 transition",type:"submit",children:"Sign Up"})}),e.jsx(x,{to:"/schedule",children:e.jsx("p",{className:"mt-6 hover:text-c4 text-c7 transition",children:"Make a schedule without signing up"})})]})}const P={loginBg:[{url:"/me-schedule-maker/images/loginbg/view.png",name:"view",width:2224,height:1546},{url:"/me-schedule-maker/images/loginbg/search.png",name:"search",width:1190,height:1516},{url:"/me-schedule-maker/images/loginbg/saved.png",name:"saved",width:1190,height:1516},{url:"/me-schedule-maker/images/loginbg/filter.png",name:"filter",width:1190,height:1516}]};function L(){const{loginBg:s}=P,[t,a]=r.useState(0);return console.log(a),e.jsx("section",{className:"w-full h-full flex overflow-hidden relative",children:[s[0]].map((n,c)=>e.jsx(U,{img:n,index:c,current:t},n.name))})}function U({img:s,index:t,current:a}){const{url:n,name:c,width:i,height:o}=s;return console.log(c,i,o,t,a),e.jsxs("div",{className:"h-full absolute w-full",children:[e.jsx("div",{className:"absolute top-0 left-0 h-full w-20",children:e.jsx("svg",{viewBox:"0 0 100 100",className:"h-full w-full",preserveAspectRatio:"none",children:e.jsx("path",{d:"M0 0L0 100 100 100z",className:"fill-white"})})}),e.jsx("img",{src:n,className:"h-full object-cover"}),e.jsx("div",{className:"absolute top-0 right-0 h-full w-20",children:e.jsx("svg",{viewBox:"0 0 100 100",className:"h-full w-full",preserveAspectRatio:"none",children:e.jsx("path",{d:"M100 100L0 0 100 0z",className:"fill-white"})})})]})}function A(){const[s,t]=r.useState("Login"),a=N(),[n,c]=r.useState(!1),{user:i}=r.useContext(S);r.useEffect(()=>{i&&(i.emailVerified?a(`/users/${i.uid}`):(a("/email-verification-confirmation"),k(i).catch(l=>console.log(l)),c(!0),y().catch(l=>console.log(l))))},[i]);function o(l){l==="Login"?t("Login"):l==="Sign Up"&&t("Sign Up")}return e.jsx(e.Fragment,{children:e.jsxs("section",{className:"w-[100dvw] h-[100dvh] bg-white flex",children:[e.jsx("div",{className:"md:basis-5/12 w-full bg-white flex flex-col items-center justify-center box-border p-6 shrink-0",children:e.jsxs("div",{className:"bg-c1 w-full h-full flex flex-col items-center rounded-lg overflow-hidden",children:[e.jsx("nav",{className:"flex w-full shrink-0",children:["Login","Sign Up"].map(l=>e.jsx($,{meth:l,active:s,onClick:o},l))}),e.jsx("img",{src:"/me-schedule-maker/images/jac-mock-schedule-maker-high-resolution-logo-black-on-transparent-background.png",className:"w-28 mt-12"}),e.jsx(I,{active:s,notVerified:n})]})}),e.jsx("div",{className:"basis-7/12 bg-white text-xl md:block hidden",children:e.jsx(L,{})})]})})}function $({meth:s,active:t,onClick:a}){const[n,c]=h(()=>({from:{backgroundColor:s===t?"#03045e":"#caf0f8",color:s===t?"#caf0f8":"#03045e"}}),[]);return r.useEffect(()=>{c.start({to:{backgroundColor:s===t?"#03045e":"#caf0f8",color:s===t?"#caf0f8":"#03045e"}})},[t]),e.jsx(e.Fragment,{children:e.jsx(f.p,{className:"text-center basis-1/2 cursor-pointer p-2 box-border text-c9",style:n,onClick:()=>a(s),children:s},s)})}function I({active:s,notVerified:t}){const[a,n]=h(()=>({from:{x:"0%"}}),[]);return r.useEffect(()=>{n.start({to:{x:s==="Login"?"0%":"-100%"}})},[s]),e.jsx("div",{className:"overflow-hidden w-full h-full",children:e.jsxs(f.div,{className:"flex relative",style:a,children:[e.jsx(C,{notVerified:t}),e.jsx(E,{})]})})}export{A as default};
