import{r,u as g,j as e,L as f,F as w,s as j,g as v,a as N,v as S,c as y}from"./index-8f0c1633.js";import{e as k,g as C,u as p,a as b}from"./react-spring_web.modern-1c4e7015.js";function E(){const[s,a]=r.useState(""),[n,l]=r.useState(""),[c,u]=r.useState(!1),[o,d]=r.useState(!1),m=g();async function x(t){t.preventDefault();const i=await j(s,n);if(i.status==="success"){d(!1);const h=await v(i.info.user.uid);console.log(h),m(`users/${h.uid}`)}else d(!0)}return e.jsxs("form",{className:"basis-full w-full box-border p-4 shrink-0",onSubmit:t=>void x(t),children:[e.jsx("p",{className:"w-full text-center font-bold mt-2 mb-6 text-2xl",children:"Sign in to your account"}),e.jsxs("label",{children:["Email",e.jsx("input",{name:"email",placeholder:"Email",className:`w-full p-2 text-lg mt-2 mb-6 outline-none rounded-md box-border ${o?"border-red-500 border border-solid":""}`,type:"email",onChange:t=>a(t.target.value),required:!0,value:s})]}),e.jsxs("label",{className:"relative",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Password"}),e.jsx(f,{to:"/forgot",children:e.jsx("span",{className:"hover:text-c4 text-c7 transition",children:"Forgot?"})})]}),e.jsxs("div",{className:"relative mt-2 flex items-center",children:[e.jsx("input",{name:"password",placeholder:"Password",className:`w-full p-2 text-lg outline-none rounded-md box-border ${o?"border-red-500 border border-solid":""}`,type:`${c?"text":"password"}`,onChange:t=>l(t.target.value),required:!0,value:n}),e.jsx(w,{icon:c?k:C,className:"absolute right-2 cursor-pointer",onClick:()=>u(!c)})]})]}),e.jsx("p",{className:"mt-2 text-sm text-red-500",children:o?"Email or password incorrect":null}),e.jsx("label",{children:e.jsx("button",{className:"mt-6 w-full p-2 text-center bg-c9 text-white rounded-lg hover:bg-c7 transition",type:"submit",children:"Sign In"})}),e.jsx(f,{to:"/schedule",children:e.jsx("p",{className:"mt-6 hover:text-c4 text-c7 transition",children:"Make a schedule without logging in"})})]})}function P(){const[s,a]=r.useState(""),[n,l]=r.useState(""),[c,u]=r.useState(""),[o,d]=r.useState(!1),m=g();async function x(t){if(t.preventDefault(),n!==c){d(!0);return}const i=await N(s,n);i.status==="success"?(console.log("Signed In"),d(!1),await S(i.info.user),await y({email:s,password:n,uid:i.info.user.uid}),m("/email-verification-confirmation")):i.status==="error"?(i.info.code==="auth/email-already-in-use"?d("alr-in-use"):i.info.code==="auth/weak-password"&&d("passWeak"),console.log("Denied")):console.log("Something when wrong. Please try again later.")}return e.jsxs("form",{className:"basis-full w-full box-border p-4 shrink-0",onSubmit:t=>void x(t),children:[e.jsx("p",{className:"w-full text-center font-bold mt-2 mb-6 text-2xl",children:"Sign up your account"}),e.jsxs("label",{children:["Email",e.jsx("input",{name:"email",placeholder:"Email",className:"w-full p-2 text-lg mt-2 mb-6 outline-none rounded-md",type:"email",onChange:t=>a(t.target.value),required:!0,value:s})]}),e.jsxs("label",{className:"relative",children:[e.jsx("div",{className:"flex justify-between",children:e.jsx("span",{children:"Password"})}),e.jsx("div",{className:"relative mt-2 flex items-center",children:e.jsx("input",{name:"password",placeholder:"Password",className:`w-full p-2 text-lg outline-none rounded-md mb-6 box-border ${o?"border-red-500 border border-solid":""}`,type:"text",onChange:t=>l(t.target.value),required:!0,value:n})})]}),e.jsxs("label",{className:"relative",children:[e.jsx("div",{className:"flex justify-between",children:e.jsx("span",{children:"Confirm Password"})}),e.jsx("div",{className:"relative mt-2 flex items-center",children:e.jsx("input",{name:"password",placeholder:"Password",className:`w-full p-2 text-lg outline-none rounded-md box-border ${o?"border-red-500 border border-solid":""}`,type:"text",onChange:t=>u(t.target.value),required:!0,value:c})})]}),e.jsxs("p",{className:"mt-2 text-sm text-red-500",children:[o===!0?"The passwords don't match":null,o==="alr-in-use"?"The account already exists. Sign In with your email.":null,o==="passWeak"?"Your password should be at least 6 characters long":null]}),e.jsx("label",{children:e.jsx("button",{className:"mt-6 w-full p-2 text-center bg-c9 text-white rounded-lg hover:bg-c7 transition",type:"submit",children:"Sign Up"})}),e.jsx(f,{to:"/schedule",children:e.jsx("p",{className:"mt-6 hover:text-c4 text-c7 transition",children:"Make a schedule without signing up"})})]})}function $(){const[s,a]=r.useState("Login");function n(l){l==="Login"?a("Login"):l==="Sign Up"&&a("Sign Up")}return e.jsx(e.Fragment,{children:e.jsxs("section",{className:"w-[100dvw] h-[100dvh] bg-white flex",children:[e.jsx("div",{className:"basis-5/12 bg-white flex flex-col items-center justify-center box-border p-6",children:e.jsxs("div",{className:"bg-c1 w-full h-full flex flex-col items-center rounded-lg overflow-hidden",children:[e.jsx("nav",{className:"flex w-full shrink-0",children:["Login","Sign Up"].map(l=>e.jsx(I,{meth:l,active:s,onClick:n},l))}),e.jsx("img",{src:"/me-schedule-maker/images/jac-mock-schedule-maker-high-resolution-logo-black-on-transparent-background.png",className:"w-28 mt-12"}),e.jsx(L,{active:s})]})}),e.jsx("div",{className:"basis-7/12 bg-c1 text-xl p-4",children:"I'm working on the authentication/authorization feature. You can create an account for now but it's not going to do anything."})]})})}function I({meth:s,active:a,onClick:n}){const[l,c]=p(()=>({from:{backgroundColor:s===a?"#03045e":"#caf0f8",color:s===a?"#caf0f8":"#03045e"}}),[]);return r.useEffect(()=>{c.start({to:{backgroundColor:s===a?"#03045e":"#caf0f8",color:s===a?"#caf0f8":"#03045e"}})},[a]),e.jsx(e.Fragment,{children:e.jsx(b.p,{className:"text-center basis-1/2 cursor-pointer p-2 box-border text-c9",style:l,onClick:()=>n(s),children:s},s)})}function L({active:s}){const[a,n]=p(()=>({from:{x:"0%"}}),[]);return r.useEffect(()=>{n.start({to:{x:s==="Login"?"0%":"-100%"}})},[s]),e.jsx("div",{className:"overflow-hidden w-full h-full",children:e.jsxs(b.div,{className:"flex relative",style:a,children:[e.jsx(E,{}),e.jsx(P,{})]})})}export{$ as default};
